# 쿠키 vs 세션 vs 토큰

---

## 쿠키 (Cookie)
1. 클라이언트의 로컬에 저장되는 작은 데이터 조각입니다.
2. 클라이언트와 서버 간의 상태를 유지하고 정보를 교환하는 데 사용됩니다.
3. 쿠키는 브라우저에서 관리되며, 만료 날짜나 사용자가 브라우저를 닫을 때까지 유지되는 세션 쿠키(session cookie)와 특정 기간 동안 지속되는 지속 쿠키(persistent cookie)로 나뉩니다.
4. 주로 사용자 인증 정보나 사용자 선호 설정 등을 저장하는 데 사용됩니다.

## 세션 (Session)
1. 서버 측에서 사용자의 상태를 관리하는 메커니즘입니다.
2. 세션은 일반적으로 서버 측에 저장되며, 고유한 세션 식별자(session ID)를 클라이언트에게 부여하여 클라이언트와 연결합니다.
3. 클라이언트가 서버에 요청을 보낼 때마다 세션 ID가 요청과 함께 전송되어 해당 세션에 연결됩니다.
4. 세션을 사용하여 사용자의 로그인 상태, 장바구니 내용, 사용자 상태 등을 관리합니다.

## 토큰 (Token)
1. 보안 토큰(Security Token)으로 불리며, 클라이언트와 서버 간의 인증 및 권한 부여를 위해 사용됩니다.
2. 주로 JWT(JSON Web Token) 형식으로 사용되며, 클라이언트가 서버에 인증 요청을 보낼 때 서버는 토큰을 발급하고, 클라이언트는 이 토큰을 이후의 요청에서 함께 보냅니다.
3. 토큰은 클라이언트에 저장되며, 서버는 해당 토큰을 사용하여 클라이언트의 인증 상태를 확인하고 권한을 부여합니다.
4. 토큰은 주로 OAuth나 JWT 등의 프로토콜을 사용하여 발급되며, 클라이언트 측에서 사용자 인증을 관리하는 데에 사용됩니다
 

## 쿠키 (Cookie)
### 장점
1. 쉽게 구현할 수 있습니다.
2. 브라우저가 자동으로 쿠키를 관리하기 때문에 서버 측에서 추가적인 저장 공간이 필요하지 않습니다.
3. 만료 날짜를 설정하여 일시적인 정보를 유지하거나, 브라우저가 닫힐 때까지 지속적으로 정보를 유지할 수 있습니다.
### 단점
1. 쿠키는 클라이언트 측에 저장되기 때문에 보안에 취약할 수 있습니다. 예를 들어, 쿠키가 조작되면 보안 문제가 발생할 수 있습니다.
2. 쿠키에는 한 도메인당 보낼 수 있는 크기가 제한되어 있으므로, 대용량 데이터를 저장할 수 없습니다.
3. 모든 HTTP 요청에 대해 쿠키가 전송되므로 트래픽을 늘릴 수 있습니다.

## 세션 (Session)
### 장점
1. 서버 측에서 관리되기 때문에 쿠키보다는 보안이 더 우수합니다.
2. 사용자의 세션 정보를 서버 측에서 유지하기 때문에 클라이언트 측에 저장하는 데이터 양이 적습니다.
### 단점
1. 세션 정보를 서버 측에 저장하므로 서버 메모리를 사용합니다. 따라서 세션의 수가 많아지면 서버 부하가 증가할 수 있습니다.
2. 세션 유지를 위해 사용자의 상태를 서버에 저장하기 때문에 확장성이 낮을 수 있습니다.
## 토큰 (Token)
### 장점
1. 클라이언트 측에 저장되기 때문에 서버의 부하가 줄어듭니다.
2. 토큰은 보안 프로토콜을 사용하여 서명되므로 안전합니다.
3. 서버의 상태를 관리하지 않기 때문에 확장성이 높습니다.
### 단점
1. 토큰은 클라이언트 측에 저장되기 때문에, 토큰이 유출될 경우 보안 문제가 발생할 수 있습니다. 따라서 보안적으로 조심스럽게 다뤄져야 합니다.
2. 토큰의 크기가 클 경우 HTTP 요청마다 토큰을 전송하는 데 추가적인 대역폭이 필요할 수 있습니다.
3. 일부 구현에서는 토큰을 만료시키거나 갱신하는 추가적인 관리가 필요할 수 있습니다.

# 토큰을 보완하기 위해
### HTTPS 사용:
HTTPS를 통해 통신을 암호화하여 중간자 공격을 방지합니다. HTTPS를 사용하면 통신이 암호화되므로 공격자가 세션 또는 토큰을 가로채거나 변경하는 것을 방지할 수 있습니다.
### 토큰의 유효 기간 설정:
토큰의 유효 기간을 짧게 설정하여 토큰이 유출될 경우 공격자가 토큰을 오랫동안 사용하는 것을 방지합니다. 유효 기간이 지나면 새로운 토큰을 발급해야 하므로 공격의 효과를 제한할 수 있습니다.

# Reference

---

https://tofusand-dev.tistory.com/89#token-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D
